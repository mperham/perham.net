<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="distribution" content="global" />
<meta name="robots" content="follow, all" />
<meta name="language" content="it, en" />
<title>  Rails Migrations : Mutterings</title>
<meta name="generator" content="2.5.1" />
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://www.perham.net/mike/log/?feed=rss2" />
<link rel="alternate" type="text/xml" title="RSS .92" href="http://www.perham.net/mike/log/?feed=rss" />
<link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="http://www.perham.net/mike/log/?feed=atom" />
<link rel="pingback" href="http://www.perham.net/mike/log/xmlrpc.php" />
	<link rel='archives' title='September 2008' href='http://www.perham.net/mike/log/?m=200809' />
	<link rel='archives' title='August 2008' href='http://www.perham.net/mike/log/?m=200808' />
	<link rel='archives' title='July 2008' href='http://www.perham.net/mike/log/?m=200807' />
	<link rel='archives' title='June 2008' href='http://www.perham.net/mike/log/?m=200806' />
	<link rel='archives' title='May 2008' href='http://www.perham.net/mike/log/?m=200805' />
	<link rel='archives' title='April 2008' href='http://www.perham.net/mike/log/?m=200804' />
	<link rel='archives' title='March 2008' href='http://www.perham.net/mike/log/?m=200803' />
	<link rel='archives' title='February 2008' href='http://www.perham.net/mike/log/?m=200802' />
	<link rel='archives' title='January 2008' href='http://www.perham.net/mike/log/?m=200801' />
	<link rel='archives' title='December 2007' href='http://www.perham.net/mike/log/?m=200712' />
	<link rel='archives' title='November 2007' href='http://www.perham.net/mike/log/?m=200711' />
	<link rel='archives' title='October 2007' href='http://www.perham.net/mike/log/?m=200710' />
	<link rel='archives' title='September 2007' href='http://www.perham.net/mike/log/?m=200709' />
	<link rel='archives' title='August 2007' href='http://www.perham.net/mike/log/?m=200708' />
	<link rel='archives' title='July 2007' href='http://www.perham.net/mike/log/?m=200707' />
	<link rel='archives' title='June 2007' href='http://www.perham.net/mike/log/?m=200706' />
	<link rel='archives' title='May 2007' href='http://www.perham.net/mike/log/?m=200705' />
	<link rel='archives' title='April 2007' href='http://www.perham.net/mike/log/?m=200704' />
	<link rel='archives' title='March 2007' href='http://www.perham.net/mike/log/?m=200703' />
	<link rel='archives' title='February 2007' href='http://www.perham.net/mike/log/?m=200702' />
	<link rel='archives' title='January 2007' href='http://www.perham.net/mike/log/?m=200701' />
	<link rel='archives' title='December 2006' href='http://www.perham.net/mike/log/?m=200612' />
	<link rel='archives' title='November 2006' href='http://www.perham.net/mike/log/?m=200611' />
	<link rel='archives' title='October 2006' href='http://www.perham.net/mike/log/?m=200610' />
	<link rel='archives' title='September 2006' href='http://www.perham.net/mike/log/?m=200609' />
	<link rel='archives' title='August 2006' href='http://www.perham.net/mike/log/?m=200608' />
	<link rel='archives' title='July 2006' href='http://www.perham.net/mike/log/?m=200607' />
	<link rel='archives' title='June 2006' href='http://www.perham.net/mike/log/?m=200606' />
	<link rel='archives' title='May 2006' href='http://www.perham.net/mike/log/?m=200605' />
	<link rel='archives' title='April 2006' href='http://www.perham.net/mike/log/?m=200604' />
	<link rel='archives' title='March 2006' href='http://www.perham.net/mike/log/?m=200603' />
	<link rel='archives' title='February 2006' href='http://www.perham.net/mike/log/?m=200602' />
	<link rel='archives' title='January 2006' href='http://www.perham.net/mike/log/?m=200601' />
	<link rel='archives' title='December 2005' href='http://www.perham.net/mike/log/?m=200512' />
	<link rel='archives' title='November 2005' href='http://www.perham.net/mike/log/?m=200511' />
	<link rel='archives' title='October 2005' href='http://www.perham.net/mike/log/?m=200510' />
	<link rel='archives' title='September 2005' href='http://www.perham.net/mike/log/?m=200509' />
	<link rel='archives' title='August 2005' href='http://www.perham.net/mike/log/?m=200508' />
	<link rel='archives' title='July 2005' href='http://www.perham.net/mike/log/?m=200507' />
	<link rel='archives' title='June 2005' href='http://www.perham.net/mike/log/?m=200506' />
	<link rel='archives' title='May 2005' href='http://www.perham.net/mike/log/?m=200505' />
	<link rel='archives' title='April 2005' href='http://www.perham.net/mike/log/?m=200504' />
	<link rel='archives' title='March 2005' href='http://www.perham.net/mike/log/?m=200503' />
	<link rel='archives' title='February 2005' href='http://www.perham.net/mike/log/?m=200502' />
	<link rel='archives' title='January 2005' href='http://www.perham.net/mike/log/?m=200501' />
	<link rel='archives' title='December 2004' href='http://www.perham.net/mike/log/?m=200412' />
	<link rel='archives' title='November 2004' href='http://www.perham.net/mike/log/?m=200411' />
	<link rel='archives' title='October 2004' href='http://www.perham.net/mike/log/?m=200410' />
	<link rel='archives' title='September 2004' href='http://www.perham.net/mike/log/?m=200409' />
	<link rel='archives' title='August 2004' href='http://www.perham.net/mike/log/?m=200408' />
	<link rel='archives' title='July 2004' href='http://www.perham.net/mike/log/?m=200407' />
	<link rel='archives' title='June 2004' href='http://www.perham.net/mike/log/?m=200406' />
	<link rel='archives' title='May 2004' href='http://www.perham.net/mike/log/?m=200405' />
	<link rel='archives' title='April 2004' href='http://www.perham.net/mike/log/?m=200404' />
	<link rel='archives' title='March 2004' href='http://www.perham.net/mike/log/?m=200403' />
	<link rel='archives' title='February 2004' href='http://www.perham.net/mike/log/?m=200402' />
	<link rel='archives' title='January 2004' href='http://www.perham.net/mike/log/?m=200401' />
	<link rel='archives' title='December 2003' href='http://www.perham.net/mike/log/?m=200312' />
	<link rel='archives' title='November 2003' href='http://www.perham.net/mike/log/?m=200311' />
	<link rel='archives' title='October 2003' href='http://www.perham.net/mike/log/?m=200310' />
	<link rel='archives' title='September 2003' href='http://www.perham.net/mike/log/?m=200309' />
	<link rel='archives' title='August 2003' href='http://www.perham.net/mike/log/?m=200308' />
	<link rel='archives' title='July 2003' href='http://www.perham.net/mike/log/?m=200307' />
	<link rel='archives' title='June 2003' href='http://www.perham.net/mike/log/?m=200306' />
	<link rel='archives' title='May 2003' href='http://www.perham.net/mike/log/?m=200305' />
	<link rel='archives' title='April 2003' href='http://www.perham.net/mike/log/?m=200304' />
	<link rel='archives' title='March 2003' href='http://www.perham.net/mike/log/?m=200303' />
	<link rel='archives' title='February 2003' href='http://www.perham.net/mike/log/?m=200302' />
	<link rel='archives' title='January 2003' href='http://www.perham.net/mike/log/?m=200301' />
	<link rel='archives' title='December 2002' href='http://www.perham.net/mike/log/?m=200212' />
	<link rel='archives' title='November 2002' href='http://www.perham.net/mike/log/?m=200211' />
	<link rel='archives' title='October 2002' href='http://www.perham.net/mike/log/?m=200210' />


<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.perham.net/mike/log/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.perham.net/mike/log/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 2.5.1" />

<style type="text/css" media="screen">
<!-- @import url( http://www.perham.net/mike/log/wp-content/themes/looter-xp-10/style.css ); -->
</style>
</head>
<body> 





 <div id="header"> 

<h1><a href="http://www.perham.net/mike/log/">Mutterings</a></h1>
 </div>          
<div class="pages"><ul><li 
						><a href="http://www.perham.net/mike/log/">Home</a></li><li class="page_item page-item-564"><a href="http://www.perham.net/mike/log/?page_id=564" title="About Me">About Me</a></li>
</ul>
                </div>                  <div id="box">

<!-- end header --><div id="sidebar">
<h2>Recent Articles</h2>
<ul>	<li><a href='http://www.perham.net/mike/log/?p=822' title='A New McCain on the Campaign Trail'>A New McCain on the Campaign Trail</a></li>
	<li><a href='http://www.perham.net/mike/log/?p=821' title='Horror Story'>Horror Story</a></li>
	<li><a href='http://www.perham.net/mike/log/?p=820' title='Metallica Interview Canceled after Pirate Bay Row'>Metallica Interview Canceled after Pirate Bay Row</a></li>
	<li><a href='http://www.perham.net/mike/log/?p=819' title='In Memoriam'>In Memoriam</a></li>
	<li><a href='http://www.perham.net/mike/log/?p=818' title='Barnyard Antics?'>Barnyard Antics?</a></li>
	<li><a href='http://www.perham.net/mike/log/?p=817' title='Speaking Wrapup'>Speaking Wrapup</a></li>
	<li><a href='http://www.perham.net/mike/log/?p=816' title='Data on Sarah Palin'>Data on Sarah Palin</a></li>
	<li><a href='http://www.perham.net/mike/log/?p=815' title='Fiscal Conservative?'>Fiscal Conservative?</a></li>
</ul>
<h2>Categories</h2>
<ul>	<li class="cat-item cat-item-2"><a href="http://www.perham.net/mike/log/?cat=2" title="View all posts filed under Business">Business</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://www.perham.net/mike/log/?cat=1" title="View all posts filed under General">General</a>
</li>
	<li class="cat-item cat-item-4"><a href="http://www.perham.net/mike/log/?cat=4" title="View all posts filed under Motorcycles">Motorcycles</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://www.perham.net/mike/log/?cat=3" title="View all posts filed under Personal">Personal</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://www.perham.net/mike/log/?cat=8" title="View all posts filed under Politics">Politics</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://www.perham.net/mike/log/?cat=5" title="View all posts filed under Software">Software</a>
</li>
</ul>
<h2>Links</h2>
<ul><li><a href="http://andrewbusey.com/" rel="friend">Andrew</a></li>
<li><a href="http://www.livejournal.com/users/jbelshaw" rel="friend">Jarod</a></li>
<li><a href="http://perhamodyssey.blogspot.com/" rel="parent">Jim</a></li>
<li><a href="http://mattklepac.com/" rel="friend met colleague">Matt</a></li>
<li><a href="http://www.mikeperham.com" title="My Professional Site">mikeperham</a> - My Professional Site</li>
<li><a href="http://nsputnik.com">Nick</a></li>
<li><a href="http://yinsight.blogspot.com/" rel="friend">Rath</a></li>
<li><a href="http://reqfd.net/stack/" rel="friend">Sharon</a></li>
<li><a href="http://steven.teleki.net/st/" rel="friend met colleague">Steve</a></li>
</ul>
<h2>Archives</h2>
<ul>	<li><a href='http://www.perham.net/mike/log/?m=200809' title='September 2008'>September 2008</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200808' title='August 2008'>August 2008</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200807' title='July 2008'>July 2008</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200806' title='June 2008'>June 2008</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200805' title='May 2008'>May 2008</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200804' title='April 2008'>April 2008</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200803' title='March 2008'>March 2008</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200802' title='February 2008'>February 2008</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200801' title='January 2008'>January 2008</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200712' title='December 2007'>December 2007</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200711' title='November 2007'>November 2007</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200710' title='October 2007'>October 2007</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200709' title='September 2007'>September 2007</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200708' title='August 2007'>August 2007</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200707' title='July 2007'>July 2007</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200706' title='June 2007'>June 2007</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200705' title='May 2007'>May 2007</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200704' title='April 2007'>April 2007</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200703' title='March 2007'>March 2007</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200702' title='February 2007'>February 2007</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200701' title='January 2007'>January 2007</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200612' title='December 2006'>December 2006</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200611' title='November 2006'>November 2006</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200610' title='October 2006'>October 2006</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200609' title='September 2006'>September 2006</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200608' title='August 2006'>August 2006</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200607' title='July 2006'>July 2006</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200606' title='June 2006'>June 2006</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200605' title='May 2006'>May 2006</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200604' title='April 2006'>April 2006</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200603' title='March 2006'>March 2006</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200602' title='February 2006'>February 2006</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200601' title='January 2006'>January 2006</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200512' title='December 2005'>December 2005</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200511' title='November 2005'>November 2005</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200510' title='October 2005'>October 2005</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200509' title='September 2005'>September 2005</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200508' title='August 2005'>August 2005</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200507' title='July 2005'>July 2005</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200506' title='June 2005'>June 2005</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200505' title='May 2005'>May 2005</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200504' title='April 2005'>April 2005</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200503' title='March 2005'>March 2005</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200502' title='February 2005'>February 2005</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200501' title='January 2005'>January 2005</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200412' title='December 2004'>December 2004</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200411' title='November 2004'>November 2004</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200410' title='October 2004'>October 2004</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200409' title='September 2004'>September 2004</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200408' title='August 2004'>August 2004</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200407' title='July 2004'>July 2004</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200406' title='June 2004'>June 2004</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200405' title='May 2004'>May 2004</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200404' title='April 2004'>April 2004</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200403' title='March 2004'>March 2004</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200402' title='February 2004'>February 2004</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200401' title='January 2004'>January 2004</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200312' title='December 2003'>December 2003</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200311' title='November 2003'>November 2003</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200310' title='October 2003'>October 2003</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200309' title='September 2003'>September 2003</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200308' title='August 2003'>August 2003</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200307' title='July 2003'>July 2003</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200306' title='June 2003'>June 2003</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200305' title='May 2003'>May 2003</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200304' title='April 2003'>April 2003</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200303' title='March 2003'>March 2003</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200302' title='February 2003'>February 2003</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200301' title='January 2003'>January 2003</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200212' title='December 2002'>December 2002</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200211' title='November 2002'>November 2002</a></li>
	<li><a href='http://www.perham.net/mike/log/?m=200210' title='October 2002'>October 2002</a></li>
</ul>
</div>	
	<div id="content">
  		<div class="post">
			<h2 id="post-462"><a href="http://www.perham.net/mike/log/?p=462" rel="bookmark" title="Permanent Link: Rails Migrations">Rails Migrations</a></h2>
	
			<div class="entrytext">
				<p>Migrations are a neat feature in Rails but they are documented pretty superficially; only the most basic features are documented - everything else requires much googling and gnashing of teeth.  This post is an attempt to limit your dental bill.</p>
<p>The most basic feature is <code>create table</code>:</p>
<pre>
    create_table :products do |t|
      t.column :name, :string, :limit => 100
      t.column :description, :string, :limit => 1000, :null
      t.column :price, :integer
      t.column :launch_date, :timestamp, :null
    end
</pre>
<p>Note the use of <code>limit</code> and <code>null</code> to provide simple model constraints.  Oddly, Rails defaults all columns to NOT NULL unless you explicitly allow it to be nullable via the <code>null</code> option.  This is different from almost every other database tool I have ever used but I think it is the right thing to do - it&#8217;s always best to start with a more constrained system and loosen those constraints if needed.</p>
<p>A few examples for <code>add_index</code> from the ActiveRecord docs:</p>
<pre>
    add_index :suppliers, :name
    add_index :accounts, [:branch_id, :party_id], :unique => true
    add_index :accounts, [:branch_id, :party_id], :unique => true, :name => &#8216;by_branch_party&#8217;
</pre>
<p>One of my pet peeves in migrations is the fact that it does not support foreign keys (even in edge rails) so you need to do this:</p>
<pre>
    create_table :categories do |t|
      t.column :name, :string, :limit => 50
    end

    create_table :categories_products, :id => false do |t|
      t.column :product_id, :integer
      t.column :category_id, :integer
    end

    add_index :categories_products, [:product_id, :category_id], :unique => true

    execute &#8216;alter table categories_products add constraint fk_catprod_prodid on (product_id) references products(id)&#8217;
    execute &#8216;alter table categories_products add constraint fk_catprod_catid on (category_id) references categories(id)&#8217;
</pre>
<p>I would love to see support for something like this:</p>
<pre>
    create_table :categories_products, :id => false do |t|
      t.column :product_id, :integer, :reference  # introspects the column name to determine the reference
      t.column :category_id, :integer, :reference => category[:id]  # explicit reference for non-standard naming
    end
</pre>
	
					
				<p class="postmetadata alt">
					<small>
						<a href="http://www.perham.net/mike/log/?cat=5" title="View all posts in Software" rel="category">Software</a> | 
						<a href='http://www.perham.net/mike/log/?feed=rss2&amp;p=462'>RSS 2.0</a> |
						
													Skip to the end.
			
												
					</small>
				</p>
	
			</div>
		</div>
        
	
<!-- You can start editing here. -->

	<h3 id="comments">5 Responses to &#8220;Rails Migrations&#8221;</h3> 

	<ol class="commentlist">

	
		<li class="alt" id="comment-62060">
			<cite>blah</cite> says:
						<br />
			<small class="commentmetadata"><a href="#comment-62060" title="">June 6th, 2007 at 5:47 pm</a> </small>

			<p>How do I reorder the existing table columns once they are set, without starting over?<br />
For example, I need to add a column, and can do that no problem. But then I wanted the latest column that I added to be second in a list of five items.  I am having trouble moving that column to display as the second in the list.<br />
thanks</p>

		</li>

	
	
		<li class="" id="comment-62064">
			<cite>mperham</cite> says:
						<br />
			<small class="commentmetadata"><a href="#comment-62064" title="">June 6th, 2007 at 8:16 pm</a> </small>

			<p>You can&#8217;t AFAIK.  I don&#8217;t know of any databases that allow you to reorder the intrinsic location of the column within a table because that would require the database to reorder the table data structures within the pages.</p>
<p>This sounds like it&#8217;s just a presentation issue - perhaps ActiveRecord allows you to specify the ordering of columns within a table?</p>

		</li>

	
	
		<li class="alt" id="comment-62081">
			<cite>blah</cite> says:
						<br />
			<small class="commentmetadata"><a href="#comment-62081" title="">June 7th, 2007 at 1:43 pm</a> </small>

			<p>I agree.  I think it is an Active Record thing, but I cannot find specific info on doing this anywhere in the last two days of looking.<br />
Rails framework docs haven;t helped either, but you have to know what you are looking for there.<br />
like usual I am having trouble with something that is probably easy.</p>

		</li>

	
	
		<li class="" id="comment-62090">
			<cite><a href='http://ponystyle.com' rel='external nofollow'>Brian Hardy</a></cite> says:
						<br />
			<small class="commentmetadata"><a href="#comment-62090" title="">June 7th, 2007 at 7:47 pm</a> </small>

			<p>If you&#8217;re using MySQL 5.0, here&#8217;s an example of syntax that could help you put a column in a specific place:</p>
<p>ALTER TABLE tbl_name MODIFY column_definition [FIRST | AFTER col_name]</p>
<p>Taken from here:<br />
<a href="http://dev.mysql.com/doc/refman/5.0/en/alter-table.html" rel="nofollow">http://dev.mysql.com/doc/refman/5.0/en/alter-table.html</a></p>
<p>You can run that using &#8216;execute&#8217; in your migration.</p>
<p>Unfortunately this requires you to repeat the column definition, including the type, which Migrations are supposed to be abstracting for you in the first  place. Also I have not researched whether it works in anything other than MySQL 5+.</p>

		</li>

	
	
		<li class="alt" id="comment-65285">
			<cite><a href='http://jacqueschirag.wordpress.com' rel='external nofollow'>Chirag</a></cite> says:
						<br />
			<small class="commentmetadata"><a href="#comment-65285" title="">August 12th, 2007 at 9:55 am</a> </small>

			<p>Thanks Mike, here&#8217;s another site for Some advanced migration features (:force, :temporary, :opitons, execute native SQL)</p>
<p><a href="http://rubycorner.net/rails-programming/how-to-use-rails-migrations-part-ii/" rel="nofollow">http://rubycorner.net/rails-programming/how-to-use-rails-migrations-part-ii/</a></p>

		</li>

	
	
	</ol>

 


<h3 id="respond">Leave a Reply</h3>


<form action="http://www.perham.net/mike/log/wp-comments-post.php" method="post" id="commentform">


<p><input type="text" name="author" id="author" value="" size="22" tabindex="1" />
<label for="author"><small>Name (required)</small></label></p>

<p><input type="text" name="email" id="email" value="" size="22" tabindex="2" />
<label for="email"><small>Mail (will not be published) (required)</small></label></p>

<p><input type="text" name="url" id="url" value="" size="22" tabindex="3" />
<label for="url"><small>Website</small></label></p>


<p><textarea name="comment" id="comment" cols="50%" rows="10" tabindex="4"></textarea></p>

<p><input name="submit" type="submit" id="submit" tabindex="5" value="Submit Comment" />
<input type="hidden" name="comment_post_ID" value="462" />
</p>
			<div style="display:block;" id="secureimgdiv">
				<p><label for="securitycode">Anti-spam word: (Required)</label><span style="color:#FF0000;">*</span><br />
				<small>To prove you're a person (not a spam script), type the security word shown in the picture. Click on the picture to hear an audio file of the word.</small><br />
				<input type="text" name="securitycode" id="securitycode" size="30" tabindex="4" />
				<input type="hidden" name="matchthis" value="68554" />
				<a href="http://www.perham.net/mike/log?audioselect=68554" rel="nofollow" title="Click to hear an audio file of the anti-spam word">
				<img src="http://www.perham.net/mike/log?antiselect=68554" alt="Click to hear an audio file of the anti-spam word" style="border:1px solid black;vertical-align:top;height:50px;width:160px;" /></a></p>
			</div>
			<script language='JavaScript' type='text/javascript'>
			<!--
				var urlinput = document.getElementById("url");
				var submitp = urlinput.parentNode;
				var substitution2 = document.getElementById("secureimgdiv");
				submitp.appendChild(substitution2, urlinput);
			// -->
			</script>

</form>


	
		



</div>
<!-- begin footer -->
    
</div> 
<div id="footer"> 
<form method="get" id="searchform" action="/mike/log/index.php">
<div><input type="text" value="" name="s" id="s" />
<input type="submit" id="searchsubmit" value="Search" />
</div>
</form><br />
<a href="http://wordpress.org">WordPress</a> with <a href="http://www.worldpress.it">Looter XP</a><br />
Time: 0.513 seconds.     
</div> 
        
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2569989-1";
urchinTracker();
</script>
</div>		
</body>             
</html>
